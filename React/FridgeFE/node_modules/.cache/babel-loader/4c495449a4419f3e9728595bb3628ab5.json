{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/user/Desktop/Fridge/React/FridgeFE/src/Results.js\";\nimport React from 'react';\nimport { Item, Message, Header } from 'semantic-ui-react';\nimport './CSS/Results.css';\nimport loader from './Assets/loader.gif';\n\nclass Results extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.callApi = async () => {\n      const ingredients = this.state.ingredients;\n      const ingredientsString = ingredients.join(',');\n      const query = 'http://localhost:9000/?query='.concat(ingredientsString);\n      this.setState({\n        response: []\n      });\n      const response = await fetch(query);\n      const body = await response.json();\n      if (response.status !== 200) throw Error(body.message);\n      return body;\n    };\n\n    const {\n      ingredients: _ingredients\n    } = this.props;\n    this.state = {\n      ingredients: _ingredients,\n      response: []\n    };\n  }\n\n  componentWillReceiveProps(props) {\n    const {\n      ingredients\n    } = props;\n    this.setState({\n      ingredients\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.ingredients !== this.state.ingredients) {\n      this.callApi().then(res => this.setState({\n        response: res\n      })).catch(err => console.log(err));\n    }\n  }\n\n  render() {\n    const {\n      ingredients,\n      response\n    } = this.state;\n\n    if (response.length !== 0) {\n      if (response['Recipes'].length !== 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            as: \"h3\",\n            textAlign: \"center\",\n            children: \"\\uC774\\uAC74 \\uC5B4\\uB54C?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Item.Group, {\n            id: \"resultsList\",\n            children: response['Recipes'].map(recipe => /*#__PURE__*/_jsxDEV(Item, {\n              id: \"recipe\",\n              href: recipe.link,\n              children: [/*#__PURE__*/_jsxDEV(Item.Image, {\n                size: \"tiny\",\n                src: recipe.thumbnail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Item.Content, {\n                children: [/*#__PURE__*/_jsxDEV(Item.Header, {\n                  children: [\" \", recipe.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Item.Description, {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\" \", recipe.ingredients, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 58,\n                    columnNumber: 48\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 20\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 16\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Message, {\n          color: \"orange\",\n          children: [/*#__PURE__*/_jsxDEV(Message.Header, {\n            children: \"\\uACB0\\uACFC\\uAC00 \\uC5C6\\uB124\\uC694..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Message.List, {\n            children: [/*#__PURE__*/_jsxDEV(Message.Item, {\n              children: \"\\uC7AC\\uB8CC\\uAC00 \\uBD80\\uC871\\uD558\\uB124\\uC694! \\uB354 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Message.Item, {\n              children: \"\\uC544\\uB2C8\\uBA74 \\uB9C8\\uD2B8 \\uAC00\\uC154\\uC57C \\uB420 \\uAC70 \\uAC19\\uB124\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Message.Item, {\n              children: \"\\uADF8\\uAC83\\uB3C4 \\uC544\\uB2C8\\uBA74 \\uC785\\uB825\\uD558\\uC2E0 \\uC7AC\\uB8CC\\uB4E4\\uC740 \\uB2E4\\uC2DC \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this);\n      }\n    } else if (ingredients.length !== 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loader,\n          alt: \"loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 12\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/Users/user/Desktop/Fridge/React/FridgeFE/src/Results.js"],"names":["React","Item","Message","Header","loader","Results","Component","constructor","props","callApi","ingredients","state","ingredientsString","join","query","concat","setState","response","fetch","body","json","status","Error","message","componentWillReceiveProps","componentDidUpdate","prevProps","prevState","then","res","catch","err","console","log","render","length","map","recipe","link","thumbnail","title"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,mBAAtC;AACA,OAAO,mBAAP;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;AAEA,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAsBnBC,OAtBmB,GAsBT,YAAY;AAClB,YAAMC,WAAW,GAAG,KAAKC,KAAL,CAAWD,WAA/B;AACA,YAAME,iBAAiB,GAAGF,WAAW,CAACG,IAAZ,CAAiB,GAAjB,CAA1B;AACA,YAAMC,KAAK,GAAG,gCAAgCC,MAAhC,CAAuCH,iBAAvC,CAAd;AAEA,WAAKI,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AAEA,YAAMA,QAAQ,GAAG,MAAMC,KAAK,CAACJ,KAAD,CAA5B;AACA,YAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,UAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B,MAAMC,KAAK,CAACH,IAAI,CAACI,OAAN,CAAX;AAE7B,aAAOJ,IAAP;AACD,KAlCgB;;AAEf,UAAM;AAAET,MAAAA,WAAW,EAAXA;AAAF,QAAkB,KAAKF,KAA7B;AACA,SAAKG,KAAL,GAAa;AACTD,MAAAA,WAAW,EAAXA,YADS;AAETO,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AAEDO,EAAAA,yBAAyB,CAAChB,KAAD,EAAQ;AAC7B,UAAM;AAAEE,MAAAA;AAAF,QAAkBF,KAAxB;AACA,SAAKQ,QAAL,CAAc;AAAEN,MAAAA;AAAF,KAAd;AACD;;AAEHe,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACrC,QAAIA,SAAS,CAACjB,WAAV,KAAyB,KAAKC,KAAL,CAAWD,WAAxC,EAAqD;AACjD,WAAKD,OAAL,GACCmB,IADD,CACMC,GAAG,IAAI,KAAKb,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEY;AAAZ,OAAd,CADb,EAECC,KAFD,CAEOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFd;AAGH;AACJ;;AAgBDG,EAAAA,MAAM,GAAG;AACN,UAAM;AAACxB,MAAAA,WAAD;AAAcO,MAAAA;AAAd,QAA0B,KAAKN,KAArC;;AAEA,QAAIM,QAAQ,CAACkB,MAAT,KAAoB,CAAxB,EAA2B;AACvB,UAAIlB,QAAQ,CAAC,SAAD,CAAR,CAAoBkB,MAApB,KAA+B,CAAnC,EAAsC;AAClC,4BACC;AAAA,kCACA,QAAC,MAAD;AAAQ,YAAA,EAAE,EAAC,IAAX;AAAgB,YAAA,SAAS,EAAC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAED,QAAC,IAAD,CAAM,KAAN;AAAY,YAAA,EAAE,EAAC,aAAf;AAAA,sBACKlB,QAAQ,CAAC,SAAD,CAAR,CAAoBmB,GAApB,CAAwBC,MAAM,iBAC/B,QAAC,IAAD;AAAM,cAAA,EAAE,EAAC,QAAT;AAAkB,cAAA,IAAI,EAAEA,MAAM,CAACC,IAA/B;AAAA,sCACK,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,IAAI,EAAC,MAAjB;AAAwB,gBAAA,GAAG,EAAED,MAAM,CAACE;AAApC;AAAA;AAAA;AAAA;AAAA,sBADL,eAGK,QAAC,IAAD,CAAM,OAAN;AAAA,wCACI,QAAC,IAAD,CAAM,MAAN;AAAA,kCAAeF,MAAM,CAACG,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,WAAN;AAAA,+CAAmB;AAAA,oCAAKH,MAAM,CAAC3B,WAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHL;AAAA;AAAA;AAAA;AAAA;AAAA,oBADC;AADL;AAAA;AAAA;AAAA;AAAA,kBAFC;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD;AAiBH,OAlBD,MAkBO;AACH,4BACC,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,QAAf;AAAA,kCACA,QAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA,QAAC,OAAD,CAAS,IAAT;AAAA,oCACI,QAAC,OAAD,CAAS,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,OAAD,CAAS,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI,QAAC,OAAD,CAAS,IAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD;AAUH;AACJ,KA/BD,MA+BO,IAAIA,WAAW,CAACyB,MAAZ,KAAuB,CAA3B,EAA6B;AAChC,0BACA;AAAA,+BAAK;AAAK,UAAA,GAAG,EAAE/B,MAAV;AAAkB,UAAA,GAAG,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cADA;AAGH,KAJM,MAIA;AACN,0BACI;AAAA;AAAA;AAAA;AAAA,cADJ;AAGA;AACH;;AAhFiC;;AAoFtC,eAAeC,OAAf","sourcesContent":["import React from 'react';\nimport { Item, Message, Header } from 'semantic-ui-react';\nimport './CSS/Results.css';\nimport loader from './Assets/loader.gif';\n\nclass Results extends React.Component {\n    constructor(props) {\n        super(props);\n        const { ingredients } = this.props;\n        this.state = {\n            ingredients,\n            response: [],\n        };\n    }\n\n    componentWillReceiveProps(props) {\n        const { ingredients } = props;\n        this.setState({ ingredients });\n      }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.ingredients!== this.state.ingredients) {\n            this.callApi()\n            .then(res => this.setState({ response: res }))\n            .catch(err => console.log(err));\n        }\n    }\n\n    callApi = async () => {\n        const ingredients = this.state.ingredients\n        const ingredientsString = ingredients.join(',')\n        const query = 'http://localhost:9000/?query='.concat(ingredientsString)\n\n        this.setState({ response: [] })\n        \n        const response = await fetch(query);\n        const body = await response.json();\n        if (response.status !== 200) throw Error(body.message);\n        \n        return body;\n      };\n\n    render() {\n       const {ingredients, response} = this.state\n       \n       if (response.length !== 0) {\n           if (response['Recipes'].length !== 0) {\n               return (\n                <div>\n                <Header as='h3' textAlign='center'>이건 어때?</Header>\n               <Item.Group id='resultsList'>\n                   {response['Recipes'].map(recipe => (\n                   <Item id='recipe' href={recipe.link}>\n                        <Item.Image size='tiny' src={recipe.thumbnail} />\n    \n                        <Item.Content>\n                            <Item.Header> {recipe.title} </Item.Header>\n                            <Item.Description> <p> {recipe.ingredients} </p> </Item.Description>\n                        </Item.Content>\n                    </Item>\n                   ))}\n               </Item.Group>\n               </div>\n               )\n           } else {\n               return (\n                <Message color='orange'>\n                <Message.Header>결과가 없네요..</Message.Header>\n                <Message.List>\n                    <Message.Item>재료가 부족하네요! 더 입력해주세요</Message.Item>\n                    <Message.Item>아니면 마트 가셔야 될 거 같네요</Message.Item>\n                    <Message.Item>그것도 아니면 입력하신 재료들은 다시 확인해주세요!</Message.Item>\n                </Message.List>\n              </Message>\n               )\n           }\n       } else if (ingredients.length !== 0){\n           return(\n           <div><img src={loader} alt=\"loading...\" /></div>\n           )\n       } else {\n        return(\n            <div></div>\n            )\n       }\n    }\n}\n\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}